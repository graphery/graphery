{
  "version": 3,
  "sources": ["../../src/svg/src/sequence.plugin.js", "../../src/svg/build/sequence.plugin.js"],
  "sourcesContent": ["const is              = (v, t) => typeof v === t;\r\nconst FUNCTION        = 'function';\r\nconst NUMBER          = 'number';\r\nconst STRING          = 'string';\r\nconst ERROR_NOT_FOUND = 'element not found';\r\n\r\n/**\r\n * Animated sequence of steps\r\n */\r\nclass Seq {\r\n  gySVG  = null;\r\n  #self  = null;\r\n  #steps = [];\r\n  #init;\r\n  #end;\r\n\r\n  /**\r\n   * Create a new sequence\r\n   * @param {object} gySVG\r\n   * @param {object} self\r\n   * @param {function} [init]\r\n   * @param {function} [end]\r\n   */\r\n  constructor (gySVG, self, init, end) {\r\n    this.gySVG = gySVG;\r\n    this.#self = self;\r\n    this.#init = typeof init === 'function' ? init : () => undefined;\r\n    this.#end  = typeof end === 'function' ? end : () => undefined;\r\n  }\r\n\r\n  /**\r\n   * previous element\r\n   * @returns {{end: (function(*=)), begin: (function(*=))}}\r\n   */\r\n  get prev () {\r\n    let el        = this.#steps[this.#steps.length - 1];\r\n    const options = el[2];\r\n    return {\r\n      end  : (n = 0) => (options.delay || 0) + (options.duration || 200) + n,\r\n      begin: (n = 0) => (options.delay || 0) + n\r\n    };\r\n  }\r\n\r\n  /**\r\n   * get a step element\r\n   * @param {number|string} element\r\n   * @returns {{end: (function(*=)), begin: (function(*=))}}\r\n   */\r\n  step (element) {\r\n    let el = is(element, NUMBER) ?\r\n      this.#steps[element] :\r\n      this.#steps.find(e => e[0] === element);\r\n    if (!el) {\r\n      throw new Error(ERROR_NOT_FOUND);\r\n    }\r\n    const options = el[2];\r\n    return {\r\n      end  : (n = 0) => (options.delay || 0) + (options.duration || 200) + n,\r\n      begin: (n = 0) => (options.delay || 0) + n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get all steps\r\n   * @returns {*[]}\r\n   */\r\n  get steps () {\r\n    return this.#steps.slice();\r\n  }\r\n\r\n  /**\r\n   * add new step\r\n   * @param {object} step\r\n   * @returns {Seq}\r\n   */\r\n  add (...step) {\r\n    this.#steps.push(step);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * run the sequence\r\n   */\r\n  play () {\r\n    const globalEnd = this.#end;\r\n    let executions  = this.#steps.length;\r\n    this.#init();\r\n    for (let step of this.#steps) {\r\n      const element    = is(step[0], STRING) ? this.#self.querySelector(step[0]) : step[0];\r\n      const properties = step[1];\r\n      const options    = step[2];\r\n      const start      = step[3] || null;\r\n      const end        = step[4] || null;\r\n      element.animateTo(properties, options, start, function (...args) {\r\n        if (is(end, FUNCTION)) {\r\n          end.apply(this, args)\r\n        }\r\n        if (!--executions) {\r\n          globalEnd();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * Install sequence plugin\r\n * @param {object} gySVG\r\n * @param {object} gySVGObject\r\n * @example gySVG.extend(sequencePlugin)\r\n */\r\nexport default function sequencePlugin (gySVG, gySVGObject) {\r\n  Object.assign(gySVGObject.prototype, {\r\n    /**\r\n     * Create a new animation sequence\r\n     * @param {function} init - Callback called when start the animations sequence\r\n     * @param {function} end  - Callback called when finish the animations sequence\r\n     * @returns {Seq}\r\n     * @constructor\r\n     */\r\n    Seq (init, end) {\r\n      return new Seq(gySVG, this, init, end);\r\n    }\r\n  });\r\n}", "import plugin from '../src/sequence.plugin.js';\r\n\r\n(typeof gobalThis !== 'undefined' ? globalThis : window).gySVG.extend (plugin);\r\n"],
  "mappings": "MAAA,KAAM,GAAkB,CAAC,EAAG,IAAM,MAAO,KAAM,EACzC,EAAkB,WAClB,EAAkB,SAClB,EAAkB,SAClB,EAAkB,oBAKxB,QACE,MAAS,QACA,QACA,SAWT,YAAa,EAAO,EAAM,EAAM,GAC9B,KAAK,MAAQ,EACb,QAAa,EACb,QAAa,MAAO,IAAS,WAAa,EAAO,OACjD,QAAa,MAAO,IAAQ,WAAa,EAAM,UAO7C,QACF,GAAI,GAAY,QAAY,QAAY,OAAS,GACjD,KAAM,GAAU,EAAG,GACnB,MAAO,CACL,IAAO,CAAC,EAAI,IAAO,GAAQ,OAAS,GAAM,GAAQ,UAAY,KAAO,EACrE,MAAO,CAAC,EAAI,IAAO,GAAQ,OAAS,GAAK,GAS7C,KAAM,GACJ,GAAI,GAAK,EAAG,EAAS,GACnB,QAAY,GACZ,QAAY,KAAK,GAAK,EAAE,KAAO,GACjC,GAAI,CAAC,EACH,KAAM,IAAI,OAAM,GAElB,KAAM,GAAU,EAAG,GACnB,MAAO,CACL,IAAO,CAAC,EAAI,IAAO,GAAQ,OAAS,GAAM,GAAQ,UAAY,KAAO,EACrE,MAAO,CAAC,EAAI,IAAO,GAAQ,OAAS,GAAK,MAQzC,SACF,MAAO,SAAY,QAQrB,OAAQ,GACN,eAAY,KAAK,GACV,KAMT,OACE,KAAM,GAAY,QAClB,GAAI,GAAc,QAAY,OAC9B,UACA,OAAS,KAAQ,UACf,KAAM,GAAa,EAAG,EAAK,GAAI,GAAU,QAAW,cAAc,EAAK,IAAM,EAAK,GAC5E,EAAa,EAAK,GAClB,EAAa,EAAK,GAClB,EAAa,EAAK,IAAM,KACxB,EAAa,EAAK,IAAM,KAC9B,EAAQ,UAAU,EAAY,EAAS,EAAO,YAAa,GACzD,AAAI,EAAG,EAAK,IACV,EAAI,MAAM,KAAM,GAElB,AAAK,EAAE,GACL,QAcK,WAAyB,EAAO,GAC7C,OAAO,OAAO,EAAY,UAAW,CAQnC,IAAK,EAAM,GACT,MAAO,IAAI,GAAI,EAAO,KAAM,EAAM,MCxHxC,AAAC,OAAO,YAAc,YAAc,WAAa,QAAQ,MAAM,OAAQ",
  "names": []
}
