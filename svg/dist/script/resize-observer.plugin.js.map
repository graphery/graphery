{
  "version": 3,
  "sources": ["../../src/svg/src/resize-observer.plugin.js", "../../src/svg/build/resize-observer.plugin.js"],
  "sourcesContent": ["/**\r\n * This callback is displayed as part of the Requester class.\r\n * @callback resizeObserver~callback\r\n * @param {SVGElement|gySVGObject} svg\r\n * @param {SVGMatrix} currentMatrix\r\n * @param {SVGMatrix} prevMatrix\r\n */\r\n\r\nconst resizeObserverCache = new WeakMap ();\r\n\r\n/**\r\n * keepAspect\r\n * @usage gySVG.extension( keepAspect )\r\n * @type {{keepAspect() : gySVGObject}}\r\n */\r\nexport default function resizeObserverPlugin (gySVG, gySVGObject) {\r\n  // Update gySVGObject\r\n  Object.assign (\r\n    gySVGObject.prototype, {\r\n      resizeObserver (callback) {\r\n        const self = this;\r\n        const svg  = this.el.tagName.toLowerCase () === 'svg' ? this.el : this.parent ('svg').el;\r\n        if (resizeObserverCache.has (svg)) {\r\n          return resizeObserverCache.get (svg).push (callback);\r\n        }\r\n        resizeObserverCache.set (svg, [callback]);\r\n        let prevMatrix = {};\r\n        const check    = () => {\r\n          const currentMatrix = svg.getScreenCTM ();\r\n          if (currentMatrix !== null && (\r\n            currentMatrix.a !== prevMatrix.a ||\r\n            currentMatrix.b !== prevMatrix.b ||\r\n            currentMatrix.c !== prevMatrix.c ||\r\n            currentMatrix.d !== prevMatrix.d ||\r\n            currentMatrix.e !== prevMatrix.e ||\r\n            currentMatrix.f !== prevMatrix.f)\r\n          ) {\r\n            const callbacks = resizeObserverCache.get (svg);\r\n            for (let cb of callbacks) {\r\n              cb (self, currentMatrix, prevMatrix);\r\n            }\r\n            prevMatrix = currentMatrix;\r\n          }\r\n          window.requestAnimationFrame (check);\r\n        };\r\n        check ();\r\n        return self;\r\n      }\r\n    });\r\n}\r\n", "import plugin from '../src/resize-observer.plugin.js';\r\n\r\n(typeof gobalThis !== 'undefined' ? globalThis : window).gySVG.extend (plugin);\r\n"],
  "mappings": "MAQA,KAAM,GAAsB,GAAI,SAOjB,WAA+B,EAAO,GAEnD,OAAO,OACL,EAAY,UAAW,CACrB,eAAgB,GACd,KAAM,GAAO,KACP,EAAO,KAAK,GAAG,QAAQ,gBAAmB,MAAQ,KAAK,GAAK,KAAK,OAAQ,OAAO,GACtF,GAAI,EAAoB,IAAK,GAC3B,MAAO,GAAoB,IAAK,GAAK,KAAM,GAE7C,EAAoB,IAAK,EAAK,CAAC,IAC/B,GAAI,GAAa,GACjB,KAAM,GAAW,KACf,KAAM,GAAgB,EAAI,eAC1B,GAAI,IAAkB,MACpB,GAAc,IAAM,EAAW,GAC/B,EAAc,IAAM,EAAW,GAC/B,EAAc,IAAM,EAAW,GAC/B,EAAc,IAAM,EAAW,GAC/B,EAAc,IAAM,EAAW,GAC/B,EAAc,IAAM,EAAW,IAE/B,KAAM,GAAY,EAAoB,IAAK,GAC3C,OAAS,KAAM,GACb,EAAI,EAAM,EAAe,GAE3B,EAAa,EAEf,OAAO,sBAAuB,IAEhC,WACO,KC5Cf,AAAC,OAAO,YAAc,YAAc,WAAa,QAAQ,MAAM,OAAQ",
  "names": []
}
