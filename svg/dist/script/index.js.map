{
  "version": 3,
  "sources": ["../../src/svg/src/index.js", "../../src/svg/build/index.js"],
  "sourcesContent": ["const NAME         = 'gySVGObject';\r\nconst NS           = 'http://www.w3.org/2000/svg';\r\nconst OBJECT       = 'object';\r\nconst FUNCTION     = 'function';\r\nconst STRING       = 'string';\r\nconst UNDEFINED    = 'undefined';\r\nconst EMPTY        = '';\r\nconst cache        = new WeakMap ();\r\nconst readonlyProp = new Set ();\r\n\r\n/**\r\n * @typedef {Object} gySVGObject\r\n */\r\n\r\n/**\r\n * gySVGObject\r\n */\r\nclass gySVGObject {\r\n  constructor (element) {\r\n    this._el       = element;\r\n    this._animates = [];\r\n    this._timeouts = [];\r\n  }\r\n  \r\n  get [ Symbol.toStringTag ] () {\r\n    return NAME;\r\n  }\r\n  \r\n  /**\r\n   * el\r\n   * @type {Object}\r\n   */\r\n  get el () {\r\n    return this._el;\r\n  }\r\n  \r\n  /**\r\n   * @param {gySVGObject|Object|string} tag\r\n   * @returns {gySVGObject}\r\n   */\r\n  add (tag) {\r\n    let r = type (tag, STRING) ?\r\n      create (tag) :\r\n      isWrapped (tag) ?\r\n        tag :\r\n        wrapper (tag);\r\n    this._el.appendChild (r._el);\r\n    return r;\r\n  }\r\n  \r\n  /**\r\n   * @param {string|Object} tag\r\n   * @returns {gySVGObject}\r\n   */\r\n  attachTo (tag) {\r\n    const r = type (tag, OBJECT) ?\r\n      (isWrapped (tag) ?\r\n          tag._el :\r\n          tag\r\n      ) :\r\n      document.querySelector (tag);\r\n    r.appendChild (this._el);\r\n    return this;\r\n  }\r\n  \r\n  /**\r\n   * gySVGObject.id()\r\n   * @param {string} [value]\r\n   * @returns {string|gySVGObject}\r\n   */\r\n  id (value) {\r\n    if (!value) {\r\n      return this._el.id || (this._el.id = randomId ());\r\n    }\r\n    this._el.setAttribute ('id', value);\r\n    return this;\r\n  }\r\n  \r\n  /**\r\n   * gySVGObject.ref()\r\n   * @returns {string}\r\n   */\r\n  ref () {\r\n    return `#${ this.id () }`;\r\n  }\r\n  \r\n  /**\r\n   * gySVGObject.url()\r\n   * @returns {string}\r\n   */\r\n  url () {\r\n    return `url(#${ this.id () })`;\r\n  }\r\n  \r\n  /**\r\n   * @param {Object} attributes\r\n   * @param {number} duration\r\n   * @param {Function} [start]\r\n   * @param {Function} [end]\r\n   * @return {gySVGObject}\r\n   */\r\n  animateTo (attributes, duration = 200, start, end) {\r\n    const animates  = this._animates;\r\n    const timeouts  = this._timeouts;\r\n    const clean     = () => {\r\n      timeouts.forEach (t => clearTimeout (t));\r\n      timeouts.length = 0;\r\n      animates.forEach (e => e.remove ());\r\n      animates.length = 0;\r\n    };\r\n    const transform = (event = true) => {\r\n      clean ();\r\n      for (let attr of Object.keys (attributes)) {\r\n        this[ attr ] (attributes[ attr ]);\r\n      }\r\n      if (typeof end === 'function') {\r\n        end(this);\r\n      }\r\n    };\r\n    \r\n    if (duration === 0) {\r\n      transform (false);\r\n      return this;\r\n    }\r\n    \r\n    clean ();\r\n    let added = false;\r\n    for (let attr of Object.keys (attributes)) {\r\n      if (this[ attr ] () !== attributes[ attr ]) {\r\n        added         = true;\r\n        const animate = this.add ('animate')\r\n          .attributeName (attr)\r\n          .to (attributes[ attr ])\r\n          .fill ('freeze')\r\n          .dur (duration + 'ms');\r\n        animate.beginElement ();\r\n        animates.push (animate);\r\n      }\r\n    }\r\n    if (added) {\r\n      if (typeof start === 'function') {\r\n        start(this);\r\n      }\r\n      timeouts.push (setTimeout (transform, duration + 10));\r\n    }\r\n    return this;\r\n  }\r\n  \r\n}\r\n\r\n/**\r\n *\r\n * @param {object} o\r\n * @param {string} t\r\n * @returns {boolean}\r\n */\r\nconst type = (o, t) => typeof o === t;\r\n\r\n/**\r\n *\r\n * @param {object} o\r\n * @param {object} p\r\n * @returns {boolean}\r\n */\r\nconst is = (o, p) => o instanceof p;\r\n\r\n/**\r\n * randomId()\r\n * @returns {string}\r\n */\r\nconst randomId = () => NAME + Math.random ().toString (32).substring (2);\r\n\r\n/**\r\n * isWrapped()\r\n * @param {*} el\r\n * @returns {boolean}\r\n */\r\nconst isWrapped = (el) => typeof el === OBJECT && el[ Symbol.toStringTag ] === NAME;\r\n\r\n/**\r\n *\r\n * @param tag\r\n * @returns {gySVGObject}\r\n */\r\nconst create = (tag) => wrapper (document.createElementNS (NS, tag));\r\n\r\n/**\r\n * return the original method name for an alias\r\n * @param {string} prop\r\n * @returns {string}\r\n */\r\nconst alias = (prop) => ({\r\n  content  : 'innerHTML',\r\n  source   : 'outerHTML',\r\n  parent   : 'parentElement',\r\n  next     : 'nextElementSibling',\r\n  previous : 'previousElementSibling'\r\n})[ prop ] || prop;\r\n\r\n/**\r\n *\r\n * @param element\r\n * @returns {Proxy<gySVGObject>}\r\n */\r\nconst wrapper = (element) => {\r\n  if (!type (element, OBJECT) || element === null) {\r\n    return null;\r\n  }\r\n  if (cache.has (element)) {\r\n    return cache.get (element);\r\n  }\r\n  const proxy = new Proxy (\r\n    new gySVGObject (element),\r\n    // Handler\r\n    {\r\n      get (wrapped, prop) {\r\n        // Direct return\r\n        if (['el', Symbol.toStringTag].includes (prop) || prop[ 0 ] === '_') {\r\n          return wrapped[ prop ];\r\n        }\r\n        // Return the wrapper method\r\n        if (!type (wrapped[ prop ], UNDEFINED)) {\r\n          return (...args) =>\r\n            pluginCallback (proxy, prop, args) ||\r\n            wrapped[ prop ].call (proxy, ...args);\r\n        }\r\n        // Special case <path d=\"\"></path>\r\n        if (prop === 'd' && element.tagName.toLowerCase () === 'path') {\r\n          let content  = EMPTY;\r\n          const dProxy = new Proxy (\r\n            (arg) =>\r\n              pluginCallback (proxy, prop, [arg]) ||\r\n              arg ? element.setAttribute ('d', arg) || proxy : element.getAttribute ('d'),\r\n            {\r\n              get (target, command) {\r\n                return (...args) => {\r\n                  content += `${ command }${ pluginCallback (\r\n                    proxy,\r\n                    prop,\r\n                    args\r\n                  ) || args.join (',') }`;\r\n                  element.setAttribute (prop, content);\r\n                  return dProxy;\r\n                };\r\n              }\r\n            }\r\n          );\r\n          return dProxy;\r\n        }\r\n        prop = alias (prop);\r\n        // Return the element method\r\n        if (type (element[ prop ], FUNCTION)) {\r\n          return (...args) => {\r\n            const result =\r\n                    pluginCallback (proxy, prop, args) ||\r\n                    element[ prop ].call (element, ...args);\r\n            return (\r\n              result === undefined ?\r\n                proxy :\r\n                adaptedResult (result)\r\n            );\r\n          };\r\n        }\r\n        // Return the wrapped method\r\n        return methodWrapper (element, prop, proxy);\r\n      }\r\n    }\r\n  );\r\n  cache.set (element, proxy);\r\n  return proxy;\r\n};\r\n\r\n/**\r\n *\r\n * @param {Object} element\r\n * @param {string} prop\r\n * @param {Object} parentWrapper\r\n * @param {string} [parentProp]\r\n * @returns {Proxy<function()>}\r\n */\r\nconst methodWrapper = (element, prop, parentWrapper, parentProp) => {\r\n  if (typeof prop === 'symbol') {\r\n    return element[ prop ];\r\n  }\r\n  const propNormalized = prop.replace (/_/g, '-');\r\n  const f              = (...args) => {\r\n    const r = pluginCallback (parentWrapper, parentProp ? `${ parentProp }.${ prop }` : prop, args);\r\n    if (r !== undefined) {\r\n      return r;\r\n    }\r\n    // Get value\r\n    if (args.length === 0) {\r\n      const result = (\r\n        propNormalized in element &&\r\n        (!element.hasAttribute || !element.hasAttribute (propNormalized))\r\n      ) ?\r\n        element[ propNormalized ] :\r\n        element.getAttribute (propNormalized);\r\n      return adaptedResult (result);\r\n    }\r\n    // Set value as property\r\n    const value = args[ 0 ];\r\n    if (is (element, CSSStyleDeclaration)) {\r\n      element[ propNormalized ] = value;\r\n      return parentWrapper;\r\n    }\r\n    if (propNormalized in element && !readonlyProp.has (propNormalized)) {\r\n      if (element[ propNormalized ] === value) {\r\n        return parentWrapper;\r\n      }\r\n      const previousValue = element[ propNormalized ];\r\n      try {\r\n        element[ propNormalized ] = value;\r\n      } catch (err) {\r\n        readonlyProp.add (propNormalized);\r\n      }\r\n      if (\r\n        (type (element[ propNormalized ], OBJECT) && element[ propNormalized ] === value) ||\r\n        element[ propNormalized ] !== previousValue\r\n      ) {\r\n        return parentWrapper;\r\n      }\r\n      readonlyProp.add (propNormalized);\r\n    }\r\n    // Set value as attribute\r\n    if (value !== 0 && !value) {\r\n      element.removeAttribute (propNormalized);\r\n    } else {\r\n      element.setAttribute (propNormalized, String (args));\r\n    }\r\n    return parentWrapper;\r\n  };\r\n  // Object.defineProperty (f, 'name', {value : propNormalized, configurable : true});\r\n  return new Proxy (\r\n    f,\r\n    {\r\n      get (target2, prop2) {\r\n        const result = element[ propNormalized ][ prop2 ];\r\n        return (\r\n          type (result, FUNCTION) ?\r\n            (...args) => {\r\n              const r =\r\n                      pluginCallback (parentWrapper, `${ prop }.${ prop2 }`, args) ||\r\n                      result.call (element[ propNormalized ], ...args);\r\n              return r === undefined ? parentWrapper : r;\r\n            } :\r\n            methodWrapper (element[ propNormalized ], prop2, parentWrapper, propNormalized)\r\n        );\r\n      },\r\n      set (target2, prop2, value2) {\r\n        return element[ propNormalized ][ prop2 ] = value2;\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * adaptedResult\r\n * @param {*} result\r\n * @returns {*}\r\n */\r\nconst adaptedResult = (result) => {\r\n  return (\r\n    is (result, HTMLCollection) || is (result, NodeList) ?\r\n      [...result].map (x => wrapper (x)) :\r\n      is (result, SVGElement) ?\r\n        wrapper (result) :\r\n        type (result, STRING) ?\r\n          Number.isNaN (Number (result)) ?\r\n            result :\r\n            Number (result) :\r\n          result\r\n  );\r\n};\r\n\r\n/**\r\n * pluginCallback\r\n * @param {Object} wrapped\r\n * @param {string} prop\r\n * @param {Array} args\r\n */\r\nconst pluginCallback = (wrapped, prop, args) => {\r\n  if (wrapped._call) {\r\n    return wrapped._call (wrapped, prop, args);\r\n  }\r\n};\r\n\r\n/**\r\n * gySVGObject\r\n * @param {Object|gySVGObject|string} [el]\r\n * @returns {gySVGObject|Object|null}\r\n * @constructor\r\n */\r\nexport function gySVG (el) {\r\n  pluginCallback (gySVG, EMPTY, [el]);\r\n  if (type (el, OBJECT)) {\r\n    return isWrapped (el) ? el : wrapper (el);\r\n  }\r\n  return create (el || 'svg');\r\n}\r\n\r\nexport default gySVG;\r\n\r\n/**\r\n * gySVG.isWrapped()\r\n * @type {function({Object}) : boolean}\r\n */\r\ngySVG.isWrapped = isWrapped;\r\n\r\n/**\r\n * gySVG.extend\r\n * @param {Function} plugin\r\n */\r\ngySVG.extend = (plugin) => plugin (gySVG, gySVGObject);\r\n\r\n\r\n", "import gySVG from '../src/index.js';\r\n\r\n(typeof gobalThis !== 'undefined' ? globalThis : window).gySVG = gySVG;"],
  "mappings": "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",
  "names": []
}
